<img width="1024" height="1024" alt="image" src="https://github.com/user-attachments/assets/26a45a07-6f69-4af7-b986-66e36c315f29" />


회귀를 조금만 해보면 누구나 이런 고민을 합니다.

"변수가 너무 많은데.. 어떤 걸 써야 하지?"
"빼면 정보가 손실될 것 같고, 넣으면 공선성이 생기고..."
"결국 좋은 모델은 어떻게 만드는 걸까?"


실제로 제조업(자동차 포함) 데이터에서는 변수들이 많고 서로 연결되어 있어서

"무엇을 넣고 빼는가"가 모델의 품질을 거의 결정합니다.

이번 글에서는 그 기준을 간단하고 직관적으로 정리해 보겠습니다.

## 1. 모든 변수를 넣는 것이 답은 아니다
데이터를 처음 다룰 때 흔히 하는 실수가 있습니다.

"많이 넣으면 더 정확한 모델이 되겠지, "


하지만 현실은 그 반대입니다.

데이터는 늘 표본 오차를 가지고 있고
변수는 서로 연관되어 있으며
불필요한 변수는 노이즈를 늘려
해석 불가능한 모델을 만들어냅니다.
모델은 단순할수록 좋습니다.

마치 자동차 부품이 적을수록 고장이 덜 나는 것처럼요.

## 2. 좋은 모델의 기본 원칙 3가지


원칙 1: 변수가 '의미 있는 정보'를 가지고 있어야 한다

예를 들어 자동차 연비 모델에서:

차량 무게 -> 의미 있음
엔진 배기량 -> 의미 있음
차량 색상 -> 의미 없음
제조 공장 이름 -> 의미 없음


데이터가 있다고 모두 넣는 것이 아니라

"Y를 설명할만한 이유"가 있는 변수만 넣어야 합니다.



원칙 2: 변수들끼리 역할이 겹치면 위험하다



이게 바로 앞 글에서 다룬 다중공선성 문제입니다.



예시 :

배기량, 마력, 토크
차급(class), 전장, 전폭
이런 구성은 서로 비슷한 정보를 제공하기 때문에

모델이 "누가 진짜 영향인지" 판단하지 못합니다.



겹치는 건 하나만 남기거나, 조합하는 게 좋습니다.



원칙 3: 해석 가능한 변수를 선택해야 한다

모델의 목적이 예측이 아니라 해석(영향 파악)이라면 특히 중요합니다.



예를 들어

"차량 무게가 연비에 미치는 영향(kg담 몇 km/L인지)", 이건 해석 가능하죠.
반면 PCA로 변수를 섞어버리면

예측력은 좋아도 해석이 어려워집니다.

## 3. 실무에서 쓰는 변수 선택 전략


1) 도메인 지식 기반 선택 (가장 중요)

자동차 엔지니어가 보기에

"연비에 영향을 줄 만한 요인"을 먼저 리스트업 하는 방식입니다.



예:

차량 무게
배기량
공기저항계수
타이어 마찰
변속기 종류
통계적 절차보다 먼저 현업의 이해로 걸러내는 것이 가장 정확합니다.



2) 상관계수(corr)로 기초 점검

0.7 이상이면 서로 강하게 연관된 상태로 보고

변수들의 "카피"가 있는지 확인합니다.



하지만 상관계수는 한계가 있으므로

반드시 다음 기법도 사용해야 합니다.



3) VIF로 공선성 점검

앞에서 말씀드린 대로,

VIF > 10이면 거의 확실하게 문제입니다.

VIF 높음 -> 변수 제거 또는 대체
VIF 낮음 -> "독립적인 정보"를 준다는 의미


4) 모델 비교 (전진/후진/Stepwise)

자동화된 변수 선택 절차입니다.



전진 선택 (Forward)
-> 변수를 하나씩 추가하면서 성능이 좋아지는지 확인



후진 제거 (Backward)

-> 일단 모두 넣고, 영향이 작은 것부터 제거



Stepwise

-> 둘을 섞은 방식



하지만 이 방식은 기계적으로 결정되기 때문에

반드시 도메인 지식 + 진단 그래프와 함께 사용해야 합니다.



5) 규제 회귀(Lasso, Ridge)

변수가 많거나, 공선성이 심하면

Lasso, Ridge 같은 규제 기법이 큰 도움이 됩니다.

Ridge -> 공선성 완화
Lasso -> 불필요한 변수를 자동 제거
Elastic Net -> 두 방법의 장점 결합
제조업 데이터처러 변수가 많은 환경에 매우 잘 맞는 방식입니다.

## 4. 자동차 예시로 한 번에 이해하기


연비(Y)를 예측하려고 합니다.

처음에는 아래 변수를 모두 넣었어요.

차량무게
배기량
마력
전폭
전장
타이어 폭
공기저항계수
변속기 종류
모델을 돌려보니:

배기량, 마력, 토크(VIF 12+) -> 공선성
전폭, 전장(VIF 8~10) -> 차급 정보를 중복 표현
공기저항계수는 강한 유의성
타이어 폭은 유의하지 않음


최종적으로 아래만 선택합니다.

차량무게
공기저항계수
변속기 종류
배기량(마력, 토크 제외)


이렇게 하면:

해석이 명확해지고
공선성이 줄어들고
p값이 안정적으로 나오고
예측력도 오히려 좋아집니다
즉, 변수를 줄이는 것은 "정보 손실"이 아니라
"모델의 품질을 개선하는 과정"입니다.
5. 한 장 요약


전략                                                                          핵심

도메인 기반	가장 중요, 첫 단계
상관계수	중복 변수 탐색
VIF	공선성 진단 도구
자동 선택	전진·후진·Stepwise
규제 회귀	변수 많을 때 강력
목표에 따라 선택	해석 vs 예측용 모델 구분




좋은 모델은 변수 100개를 넣는 게 아니라
필요한 변수 몇 개를 정확히 고르는 것입니다."


