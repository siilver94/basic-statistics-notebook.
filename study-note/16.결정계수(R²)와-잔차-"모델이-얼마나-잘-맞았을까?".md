<img width="1024" height="1024" alt="image" src="https://github.com/user-attachments/assets/35e2115f-e8b2-4daa-983e-b7c239f117dc" />



결정계수와 잔차

## 1. 예측은 했는데... 얼마나 믿을 수 있을까?
자동차 회사에서 이런 모델을 만들었다고 해봅시다.



Y^ = 25.4 − 0.006X



여기서

Y: 연비 (km/L)
X: 차량 무게 (kg)
모델은 "차가 무거울수록 연비가 떨어진다"라고 말합니다.

그런데 실제 데이터에 찍힌 점들은 회귀선 근처에 흩어져 있겠죠.

그럼 이제 물어볼 차례예요.



"이 선이 실제 데이터를 얼마나 잘 설명하고 있을까?"
그 답이 바로 결정계수(R²) 입니다.

## 2. R²의 의미 - 설명력의 비율
결정계수는 이렇게 정의됩니다.




조금 말로 풀면 이렇습니다

"데이터의 전체 변동 중에서, 회귀모형이 설명한 비율."

구분                                                                                        의미

SST (Total Sum of Squares)	전체 데이터의 변동량
SSR (Sum of Squared Residuals)	모델이 설명하지 못한 오차
R²	모델이 설명한 비율 = (1 - SSR/SST)
## 3. 예를 들어볼게요
SST = 100 (데이터 전체의 변동)
SSR = 20 (모델이 못 맞춘 부분)
그럼 R² = 0.8이면 꽤 잘 맞는 모델이고,

R² = 0.3이라면 "데이터의 30%밖에 설명 못한다"는 뜻이에요.
## 4. 하지만 R² 만 믿으면 안 돼요
많은 사람들이 R² 를 "높을수록 무조건 좋은 모델"로 오해해요.

그건 절반만 맞는 말이에요.



예를 들어, 변수를 아무거나 계속 넣으면 R²는 무조건 올라갑니다.

하지만 설명력이 진짜 올라간 건 아닙니다.

그래서 보정된 결정계수(Adjusted R²)라는 개념이 나왔어요.




기호                              의미

n	표본 개수
k	독립변수 개수


보정된 R²는 변수가 늘어나면 페널티를 줍니다.
즉, 진짜 설명력이 올라간 경우에만 함께 상승하죠.
## 5. 잔차(residual)란 무엇인가?
모델은 예측값(y^)을 만들어냅니다.

하지만 현실의 값(Y)은 그 예측과 항상 조금 다릅니다.

​




이 ei가 바로 잔차(residual)입니다.

잔차는 "모델이 틀린 정도"를 의미해요.

상황                                                                                     해석

잔차가 작음	예측이 잘 맞음
잔차가 큼	모델이 못 맞춤
잔차가 일정한 패턴	모델 구조에 문제 있음
## 6. 잔차는 '남은 이야기'를 들려준다
잔차를 그래프로 그려보면

X축에는 예측값(y^), Y축에는 잔차(e)가 찍힙니다.



좋은 회귀모형이라면 이렇게 보여야 해요.

잔차가 0을 중심으로 랜덤 하게 흩어져 있음
어떤 규칙적인 패턴도 없음


반대로 이런 모양이면 경고예요.

잔차 패턴                                                          의미

곡선 형태	비선형 관계를 직선으로 억지로 맞춤
점점 넓어짐	분산이 일정하지 않음 (이분산성)
특정 구간만 위/아래	누락된 변수나 상호작용 있음


즉, 잔차는 "모델이 놓친 부분"을 시각적으로 보여주는 거예요.
## 7. 자동차 예시로 보자
자동차의 연비 예측 모델에서 잔차를 분석해 보면:

경차, 소형차 구간 : 잔차가 대부분 0 근처 -> 잘 맞음
SUV 구간 : 잔차가 음수로 큼 -> 실제 연비가 예측보다 훨씬 낮음
스포츠카 구간 : 잔차가 양수 -> 예측보다 연비가 좋음
즉, 모델이 "고성능 차량의 특성"을 반영하지 못한 거예요.

이런 걸 보고 우리는 모델을 개선하죠.

(예: 엔진 형식, 공기저항, 구동방식 등 변수를 추가)

## 8. 잔차 분석은 '모델 점검표'다


점검 항목                                    이상적인 모습                    문제 시 조치

잔차 평균	0 근처	회귀식 재확인
분포 형태	대칭적	비선형 항 추가
분산 패턴	일정함	로그변환·이분산 보정
이상치 존재	거의 없음	영향력 점검 (Cook’s D 등)


좋은 모델은 R²가 높고,
나쁜 모델은 잔차가 특이점이 많습니다.
## 9. 한 장 요약


개념                        의미                                                                                    핵심 포인트

R²	모델이 데이터를 얼마나 설명하는가	1에 가까울수록 설명력 ↑
보정된 R²	불필요한 변수에 페널티 적용	다중회귀에 필수
잔차	모델의 예측 오차	패턴이 없어야 정상
잔차 분석	모델의 문제 진단	비선형·이분산·이상치 점검
